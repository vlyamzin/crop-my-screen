var CropMyScreen;(()=>{var n={740:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(537),e=n.n(i),i=n(645),e=n.n(i)()(e());e.push([t.id,"#crms-container {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 640px;\n\theight: 570px;\n\tz-index: 10;\n\tbackground: #fff;\n\tborder-radius: 5px;\n\toverflow: hidden;\n\tbox-shadow: 1px 1px 7px 0 #343434;\n\twill-change: transform;\n}\n\n#crms-canvas-wrap {\n\tdisplay: flex;\n\tjustify-content: center;\n\tbackground: #d3d3d3;\n}\n\n#crms-preview {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tbackground: #d3d3d3;\n}\n\n#crms-preview-header {\n\theight: 30px;\n\tcursor: grab;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tbackground: #fff;\n}\n\n#crms-preview-footer {\n\theight: 50px;\n\tpadding: 5px 10px;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tbackground: #fff;\n}\n\n#crms-input {\n\tdisplay: none;\n\tvisibility: hidden;\n}\n\n#crms-output {\n\tdisplay: block;\n\tbackground-color: #6a6a6a;\n}\n\n/* #sharingScreen.visible {\n  display: block;\n} */\n\n/* screen share area selector */\n#backdrop-wrapper {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 1;\n}\n\n#drag-markers-container {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n.draggable {\n\tposition: absolute;\n\twidth: 16px;\n\theight: 16px;\n\tcursor: move;\n\tz-index: 2;\n}\n\n.btn {\n\tdisplay: inline-block;\n\tfont-weight: 400;\n\ttext-align: center;\n\twhite-space: nowrap;\n\tvertical-align: middle;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tborder: 1px solid #f8f9fa;\n\tmargin: 0 .75rem;\n\tpadding: .375rem .75rem;\n\tfont-size: 1rem;\n\tline-height: 1.5;\n\tborder-radius: .25rem;\n\ttransition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;\n\tcolor: #212529;\n\tbackground-color: #f8f9fa;\n\tcursor: pointer;\n}\n\n.btn:hover {\n\tbackground-color: #e2e6ea;\n\tborder-color: #dae0e5;\n}\n\n.btn-primary {\n\tcolor: #fff;\n\tbackground-color: #007bff;\n\tborder-color: #007bff;\n}\n\n.btn-primary:hover {\n\tbackground-color: #0069d9;\n\tborder-color: #0062cc;\n}\n\n.icon-btn {\n\tbackground: none;\n\tborder: none;\n\toutline: none;\n\tpadding: 2px 7px;\n\tcursor: pointer;\n}\n\n.icon-btn.s20 {\n\tpadding: 4px 9px;\n}\n\n.icon-btn:hover {\n\tbackground-color: #e2e6ea;\n\tborder-color: #dae0e5;\n}\n\n.icon-btn.s24 > svg {\n\twidth: 24px;\n\theight: 24px;\n}\n\n.icon-btn.s20 > svg {\n\twidth: 20px;\n\theight: 20px;\n}\n\n/* end screen share area selector */\n#buttons {\n\tposition: absolute;\n\tbottom: 0;\n\tpadding: 1rem;\n\tbackground: #6a6a6a;\n\tz-index: 999;\n}\n\n.crms-hidden {\n\tdisplay: none !important;\n\tvisibility: hidden;\n}\n\n.w100 {\n\twidth: 100%;\n}\n\n.h100 {\n\theight: 100%;\n}\n","",{version:3,sources:["webpack://./src/css/styles.css"],names:[],mappings:"AAAA;CACC,kBAAkB;CAClB,OAAO;CACP,YAAY;CACZ,aAAa;CACb,WAAW;CACX,gBAAgB;CAChB,kBAAkB;CAClB,gBAAgB;CAChB,iCAAiC;CACjC,sBAAsB;AACvB;;AAEA;CACC,aAAa;CACb,uBAAuB;CACvB,mBAAmB;AACpB;;AAEA;CACC,WAAW;CACX,YAAY;CACZ,aAAa;CACb,sBAAsB;CACtB,8BAA8B;CAC9B,mBAAmB;AACpB;;AAEA;CACC,YAAY;CACZ,YAAY;CACZ,aAAa;CACb,yBAAyB;CACzB,mBAAmB;CACnB,gBAAgB;AACjB;;AAEA;CACC,YAAY;CACZ,iBAAiB;CACjB,aAAa;CACb,yBAAyB;CACzB,mBAAmB;CACnB,gBAAgB;AACjB;;AAEA;CACC,aAAa;CACb,kBAAkB;AACnB;;AAEA;CACC,cAAc;CACd,yBAAyB;AAC1B;;AAEA;;GAEG;;AAEH,+BAA+B;AAC/B;CACC,eAAe;CACf,MAAM;CACN,OAAO;CACP,WAAW;CACX,YAAY;CACZ,UAAU;AACX;;AAEA;CACC,kBAAkB;CAClB,MAAM;CACN,OAAO;AACR;;AAEA;CACC,kBAAkB;CAClB,WAAW;CACX,YAAY;CACZ,YAAY;CACZ,UAAU;AACX;;AAEA;CACC,qBAAqB;CACrB,gBAAgB;CAChB,kBAAkB;CAClB,mBAAmB;CACnB,sBAAsB;CACtB,yBAAyB;CACzB,sBAAsB;CACtB,qBAAqB;CACrB,iBAAiB;CACjB,yBAAyB;CACzB,gBAAgB;CAChB,uBAAuB;CACvB,eAAe;CACf,gBAAgB;CAChB,qBAAqB;CACrB,iIAAiI;CACjI,cAAc;CACd,yBAAyB;CACzB,eAAe;AAChB;;AAEA;CACC,yBAAyB;CACzB,qBAAqB;AACtB;;AAEA;CACC,WAAW;CACX,yBAAyB;CACzB,qBAAqB;AACtB;;AAEA;CACC,yBAAyB;CACzB,qBAAqB;AACtB;;AAEA;CACC,gBAAgB;CAChB,YAAY;CACZ,aAAa;CACb,gBAAgB;CAChB,eAAe;AAChB;;AAEA;CACC,gBAAgB;AACjB;;AAEA;CACC,yBAAyB;CACzB,qBAAqB;AACtB;;AAEA;CACC,WAAW;CACX,YAAY;AACb;;AAEA;CACC,WAAW;CACX,YAAY;AACb;;AAEA,mCAAmC;AACnC;CACC,kBAAkB;CAClB,SAAS;CACT,aAAa;CACb,mBAAmB;CACnB,YAAY;AACb;;AAEA;CACC,wBAAwB;CACxB,kBAAkB;AACnB;;AAEA;CACC,WAAW;AACZ;;AAEA;CACC,YAAY;AACb",sourcesContent:["#crms-container {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 640px;\n\theight: 570px;\n\tz-index: 10;\n\tbackground: #fff;\n\tborder-radius: 5px;\n\toverflow: hidden;\n\tbox-shadow: 1px 1px 7px 0 #343434;\n\twill-change: transform;\n}\n\n#crms-canvas-wrap {\n\tdisplay: flex;\n\tjustify-content: center;\n\tbackground: #d3d3d3;\n}\n\n#crms-preview {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tbackground: #d3d3d3;\n}\n\n#crms-preview-header {\n\theight: 30px;\n\tcursor: grab;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tbackground: #fff;\n}\n\n#crms-preview-footer {\n\theight: 50px;\n\tpadding: 5px 10px;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tbackground: #fff;\n}\n\n#crms-input {\n\tdisplay: none;\n\tvisibility: hidden;\n}\n\n#crms-output {\n\tdisplay: block;\n\tbackground-color: #6a6a6a;\n}\n\n/* #sharingScreen.visible {\n  display: block;\n} */\n\n/* screen share area selector */\n#backdrop-wrapper {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 1;\n}\n\n#drag-markers-container {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n.draggable {\n\tposition: absolute;\n\twidth: 16px;\n\theight: 16px;\n\tcursor: move;\n\tz-index: 2;\n}\n\n.btn {\n\tdisplay: inline-block;\n\tfont-weight: 400;\n\ttext-align: center;\n\twhite-space: nowrap;\n\tvertical-align: middle;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tborder: 1px solid #f8f9fa;\n\tmargin: 0 .75rem;\n\tpadding: .375rem .75rem;\n\tfont-size: 1rem;\n\tline-height: 1.5;\n\tborder-radius: .25rem;\n\ttransition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;\n\tcolor: #212529;\n\tbackground-color: #f8f9fa;\n\tcursor: pointer;\n}\n\n.btn:hover {\n\tbackground-color: #e2e6ea;\n\tborder-color: #dae0e5;\n}\n\n.btn-primary {\n\tcolor: #fff;\n\tbackground-color: #007bff;\n\tborder-color: #007bff;\n}\n\n.btn-primary:hover {\n\tbackground-color: #0069d9;\n\tborder-color: #0062cc;\n}\n\n.icon-btn {\n\tbackground: none;\n\tborder: none;\n\toutline: none;\n\tpadding: 2px 7px;\n\tcursor: pointer;\n}\n\n.icon-btn.s20 {\n\tpadding: 4px 9px;\n}\n\n.icon-btn:hover {\n\tbackground-color: #e2e6ea;\n\tborder-color: #dae0e5;\n}\n\n.icon-btn.s24 > svg {\n\twidth: 24px;\n\theight: 24px;\n}\n\n.icon-btn.s20 > svg {\n\twidth: 20px;\n\theight: 20px;\n}\n\n/* end screen share area selector */\n#buttons {\n\tposition: absolute;\n\tbottom: 0;\n\tpadding: 1rem;\n\tbackground: #6a6a6a;\n\tz-index: 999;\n}\n\n.crms-hidden {\n\tdisplay: none !important;\n\tvisibility: hidden;\n}\n\n.w100 {\n\twidth: 100%;\n}\n\n.h100 {\n\theight: 100%;\n}\n"],sourceRoot:""}]);const r=e},645:t=>{"use strict";t.exports=function(i){var h=[];return h.toString=function(){return this.map(function(t){var e="",n=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),n&&(e+="@layer".concat(0<t[5].length?" ".concat(t[5]):""," {")),e+=i(t),n&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e}).join("")},h.i=function(t,e,n,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(s[a]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);n&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(0<d[5].length?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),e&&(d[2]&&(d[1]="@media ".concat(d[2]," {").concat(d[1],"}")),d[2]=e),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),h.push(d))}},h}},537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"!=typeof btoa)return[e].join("\n");var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),t="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),i="/*# ".concat(t," */"),t=n.sources.map(function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")});return[e].concat(t).concat([i]).join("\n")}},379:t=>{"use strict";var d=[];function h(t){for(var e=-1,n=0;n<d.length;n++)if(d[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],r=0;r<t.length;r++){var s=t[r],o=e.base?s[0]+e.base:s[0],a=n[o]||0,c="".concat(o," ").concat(a);n[o]=a+1;var a=h(c),s={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};-1!==a?(d[a].references++,d[a].updater(s)):(s=function(e,t){var n=t.domAPI(t);return n.update(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer||n.update(e=t):n.remove()}}(s,e),e.byIndex=r,d.splice(r,0,{identifier:c,updater:s,references:1})),i.push(c)}return i}t.exports=function(t,s){var o=a(t=t||[],s=s||{});return function(t){t=t||[];for(var e=0;e<o.length;e++){var n=h(o[e]);d[n].references--}for(var t=a(t,s),i=0;i<o.length;i++){var r=h(o[i]);0===d[r].references&&(d[r].updater(),d.splice(r,1))}o=t}}},569:t=>{"use strict";var n={};t.exports=function(t,e){if(!(t=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t)))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(0<n.layer.length?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}"),(n=n.sourceMap)&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleTagTransform(i,t,e.options)}(n,e,t)},remove:function(){var t;null!==(t=n).parentNode&&t.parentNode.removeChild(t)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},271:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M7.724 65.49C13.36 55.11 21.79 46.47 32 40.56C39.63 36.15 48.25 33.26 57.46 32.33C59.61 32.11 61.79 32 64 32H448C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 93.79 .112 91.61 .3306 89.46C1.204 80.85 3.784 72.75 7.724 65.49V65.49zM48 416C48 424.8 55.16 432 64 432H448C456.8 432 464 424.8 464 416V224H48V416z"></path></svg>'},437:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 456C0 442.7 10.75 432 24 432H488C501.3 432 512 442.7 512 456C512 469.3 501.3 480 488 480H24C10.75 480 0 469.3 0 456z"></path></svg>'},56:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"></path></svg>'}},i={};function B(t){var e=i[t];if(void 0!==e)return e.exports;e=i[t]={id:t,exports:{}};return n[t](e,e.exports,B),e.exports}B.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return B.d(e,{a:e}),e},B.d=(t,e)=>{for(var n in e)B.o(e,n)&&!B.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},B.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var x={};(()=>{"use strict";function s(){return window.outerHeight-window.innerHeight}function i(t,e){return e<t?t/e:e/t}function c(t){return window.CropMyScreen.prefix+"-"+t}function d(t,e){t&&"function"==typeof t&&t.call(this,e)}function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}B.d(x,{default:()=>y});class e{constructor(){t(this,"resizing",!1),t(this,"drawing",!1),t(this,"dragPoint",void 0),t(this,"backdropCanvas",void 0),t(this,"backdropCtx",void 0),t(this,"START_X",void 0),t(this,"START_Y",void 0),t(this,"END_X",void 0),t(this,"END_Y",void 0),t(this,"CROP_W",void 0),t(this,"CROP_H",void 0),t(this,"BACKDROP_COLOR",void 0)}init(t){t?(this.START_X=t.x||0,this.START_Y=t.y||0,this.CROP_W=t.dx||0,this.CROP_H=t.dy||0,this.END_X=this.START_X+this.CROP_W,this.END_Y=this.START_Y+this.CROP_H):(this.START_X=0,this.START_Y=0),this._drawBackDrop(!0),this.areaSelectionStart=t=>{t.preventDefault(),t.stopPropagation(),t.target.classList.contains(c("control"))||this.resizing||(document.querySelectorAll(".draggable").forEach(t=>t.remove()),this.drawing=!0,this.START_X=t.clientX,this.START_Y=t.clientY)},this.areaSelectionEnd=t=>{t.preventDefault(),t.stopPropagation(),t.target.classList.contains(c("control"))||(this.resizing&&(this.resizing=!1,this._swapCoordinates(),this._drawResizeMarkers(this.backdropCtx)),this.drawing&&(this.drawing=!1,t.clientX===this.START_X&&t.clientY===this.START_Y||(this._swapCoordinates(),this._drawResizeMarkers(this.backdropCtx))))},this.areaSelectionMouseMove=t=>{if(t.preventDefault(),t.stopPropagation(),this.resizing)return this._areaResize(t),void this._drawArea();this.drawing&&(this.CROP_W=t.clientX-this.START_X,this.CROP_H=t.clientY-this.START_Y,this.END_X=t.clientX,this.END_Y=t.clientY,this._drawArea())},document.addEventListener("mousedown",this.areaSelectionStart),document.addEventListener("mouseup",this.areaSelectionEnd),document.addEventListener("mousemove",this.areaSelectionMouseMove)}getCoords(){return{x:this.START_X,y:this.START_Y,dx:this.CROP_W,dy:this.CROP_H}}remove(){this.areaSelectionStart&&(document.removeEventListener("mousedown",this.areaSelectionStart,!1),this.areaSelectionStart=null),this.areaSelectionEnd&&(document.removeEventListener("mouseup",this.areaSelectionEnd,!1),this.areaSelectionEnd=null),this.areaSelectionMouseMove&&(document.removeEventListener("mousemove",this.areaSelectionMouseMove,!1),this.areaSelectionMouseMove=null),document.getElementById("backdrop-wrapper").remove()}_drawBackDrop(t){if(!t){t=document.getElementById("backdrop-wrapper");return t&&document.body.removeChild(t),void(this.backdropCtx=null)}const e=document.createElement("div");e.setAttribute("id","backdrop-wrapper"),document.body.appendChild(e),this.backdropCanvas=document.createElement("canvas"),this.backdropCanvas.width=e.clientWidth,this.backdropCanvas.height=e.clientHeight,this.dragMarkersContainer=document.createElement("div"),this.dragMarkersContainer.setAttribute("id","drag-markers-container"),e.appendChild(this.backdropCanvas),e.appendChild(this.dragMarkersContainer),this.backdropCtx=this.backdropCanvas.getContext("2d"),this.backdropCtx.fillStyle=this.BACKDROP_COLOR,this.backdropCtx.fillRect(0,0,this.backdropCanvas.width,this.backdropCanvas.height),this._drawArea(),this._drawResizeMarkers(this.backdropCtx)}_drawArea(){this.backdropCtx.clearRect(0,0,this.backdropCanvas.width,this.backdropCanvas.height),this.backdropCtx.fillStyle=this.BACKDROP_COLOR,this.backdropCtx.fillRect(0,0,this.backdropCanvas.width,this.backdropCanvas.height),this.backdropCtx.globalCompositeOperation="destination-out",this.backdropCtx.fillStyle="red",this.backdropCtx.fillRect(this.START_X,this.START_Y,this.CROP_W,this.CROP_H),this.backdropCtx.globalCompositeOperation="source-over",this.backdropCtx.strokeStyle="rgb(163, 9, 9)",this.backdropCtx.setLineDash([6]),this.backdropCtx.lineWidth="3",this.backdropCtx.strokeRect(this.START_X,this.START_Y,this.CROP_W,this.CROP_H)}_swapCoordinates(){var t;this.END_X<this.START_X&&(t=this.START_X,this.START_X=this.END_X,this.END_X=t,this.CROP_W=this.END_X-this.START_X),this.END_Y<this.START_Y&&(t=this.START_Y,this.START_Y=this.END_Y,this.END_Y=t,this.CROP_H=this.END_Y-this.START_Y)}_drawResizeMarkers(t){t.fillStyle="rgb(180, 9, 9)";var e,n,i={topLeft:{type:0,values:[this.START_X-4,this.START_Y-4]},topCenter:{type:1,values:[this.START_X+(this.CROP_W/2-4),this.START_Y-4]},topRight:{type:0,values:[this.END_X-4,this.START_Y-4]},rightCenter:{type:1,values:[this.END_X-4,this.START_Y+(this.CROP_H/2-4)]},bottomRight:{type:0,values:[this.END_X-4,this.END_Y-4]},bottomCenter:{type:1,values:[this.START_X+(this.CROP_W/2-4),this.END_Y-4]},bottomLeft:{type:0,values:[this.START_X-4,this.END_Y-4]},leftCenter:{type:1,values:[this.START_X-4,this.START_Y+(this.CROP_H/2-4)]}};for([e,n]of Object.entries(i)){t.fillRect(n.values[0],n.values[1],8,8);const r=document.createElement("div");r.classList.add("draggable"),r.setAttribute("side",e),0<n.type?r.classList.add("side"):r.classList.add("corner"),r.style.top=n.values[1]-4+"px",r.style.left=n.values[0]-4+"px",this.dragMarkersContainer.appendChild(r)}document.querySelectorAll(".draggable").forEach(t=>{t.addEventListener("mousedown",this._areaResizeStart.bind(this))})}_areaResizeStart(t){t.preventDefault(),t.stopPropagation(),this.resizing=!0,this.dragPoint=t.target,document.querySelectorAll(".draggable").forEach(t=>{t.removeEventListener("mousedown",this._areaResizeStart),t.remove()})}_areaResize(t){switch(this.dragPoint.getAttribute("side")){case"topLeft":var e=t.clientX-this.START_X,n=t.clientY-this.START_Y;this.CROP_W=this.CROP_W-e,this.CROP_H=this.CROP_H-n,this.START_X=t.clientX,this.START_Y=t.clientY;break;case"topCenter":var i=t.clientY-this.START_Y;this.CROP_H=this.CROP_H-i,this.START_Y=t.clientY;break;case"topRight":var i=t.clientX-this.END_X,r=t.clientY-this.START_Y;this.CROP_W=this.CROP_W+i,this.CROP_H=this.CROP_H-r,this.END_X=t.clientX,this.START_Y=t.clientY;break;case"rightCenter":var s=t.clientX-this.END_X;this.CROP_W=this.CROP_W+s,this.END_X=t.clientX;break;case"bottomRight":r=t.clientX-this.END_X,s=t.clientY-this.END_Y;this.CROP_W=this.CROP_W+r,this.CROP_H=this.CROP_H+s,this.END_X=t.clientX,this.END_Y=t.clientY;break;case"bottomCenter":var o=t.clientY-this.END_Y;this.CROP_H=this.CROP_H+o,this.END_Y=t.clientY;break;case"bottomLeft":var o=t.clientX-this.START_X,a=t.clientY-this.END_Y;this.CROP_W=this.CROP_W-o,this.CROP_H=this.CROP_H+a,this.START_X=t.clientX,this.END_Y=t.clientY;break;case"leftCenter":a=t.clientX-this.START_X;this.CROP_W=this.CROP_W-a,this.START_X=t.clientX}}}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class r{constructor(t){if(n(this,"_isMoving",void 0),n(this,"_startCoords",void 0),n(this,"_translateOffset",void 0),n(this,"_deltaX",void 0),n(this,"_deltaY",void 0),n(this,"_dragZone",void 0),n(this,"_container",void 0),this._container=t,this._dragZone=t.querySelector(".window-move"),!this._container||!this._dragZone)throw console.error("WindowManager: Container is not available"),new Error("WindowManager: Container is not available")}init(){this._isMoving=!1,this._startCoords={x:0,y:0},this._translateOffset={x:0,y:0},this._deltaX=this._deltaY=0,this._limitCanvasWrap(),this._dragZone.addEventListener("mousedown",this._mouseDown.bind(this)),document.addEventListener("mousemove",this._moveMove.bind(this)),document.addEventListener("mouseup",this._mouseUp.bind(this))}fitCanvas(t){let e;try{e=this._getHeaderFooterOffset()}catch(t){e=0}var n=i(this._container.clientWidth,this._container.clientHeight-e);i(t.width,t.height)<n?(t.classList.add("h100"),t.classList.remove("w100")):t.classList.add("w100","h100")}minimize(t){t?(t=(t=this._container.querySelector("#"+c("preview-header")))&&t.clientHeight,this._container.style.height=t?t+"px":this._container.clientHeight+"px"):this._container.style.removeProperty("height")}destroy(){this._dragZone.removeEventListener("mousedown",this._mouseDown),document.removeEventListener("mousemove",this._moveMove),document.removeEventListener("mouseup",this._mouseUp),this._dragZone.remove(),this._container=null,this._dragZone=null}_mouseDown(t){this._isMoving=!0,this._dragZone.style.cursor="grabbing",this._startCoords.x=t.clientX,this._startCoords.y=t.clientY}_moveMove(t){this._isMoving&&(this._deltaX=t.clientX-this._startCoords.x,this._deltaY=t.clientY-this._startCoords.y,this._container.style.transform=`translate(${this._deltaX+this._translateOffset.x}px, ${this._deltaY+this._translateOffset.y}px)`)}_mouseUp(){this._isMoving&&(this._isMoving=!1,this._dragZone.style.cursor="grab",this._translateOffset.x+=this._deltaX,this._translateOffset.y+=this._deltaY)}_limitCanvasWrap(){const t=this._container.querySelector("#"+c("canvas-wrap"));let e,n;try{n=this._getHeaderFooterOffset()}catch(t){e=t,n=0}if(t||(e="WindowManager: Canvas wrap element not found"),e)throw console.error(e),new Error(e);t.style.maxWidth=this._container.clientWidth+"px",t.style.maxHeight=this._container.clientHeight-n+"px"}_getHeaderFooterOffset(){try{return this._container.querySelector("#"+c("preview-header")).clientHeight+this._container.querySelector("#"+c("preview-footer")).clientHeight}catch(t){throw new Error("WindowManager: Can't obtaint header & footer height")}}}var o=B(56),a=B.n(o),h=B(437),l=B.n(h),A=B(271),p=B.n(A);function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class u{constructor(){C(this,"constraints",void 0),C(this,"areaSelector",void 0),C(this,"windowManager",void 0),C(this,"containerEl",void 0),C(this,"videoEl",void 0),C(this,"canvas",void 0),C(this,"displaySurfaceType",void 0),C(this,"buttonGroup",{1:[],2:[]}),this.areaSelector=new e}render(t){var{customClass:e,backdropColor:n}=t,t="container";document.getElementById(c(t))||(this.containerEl=this._createElement("div",c(t)),e&&this.containerEl.classList.add(e),this.videoEl=this._createElement("video",c("input")),this.canvas=this._createElement("canvas",c("output")),e=this._initPreviewer(this.canvas),this.videoEl.muted=!0,this.containerEl.appendChild(this.videoEl),this.containerEl.appendChild(e),this._togglePreviewer(!1),document.body.appendChild(this.containerEl),this.windowManager=new r(this.containerEl),this.areaSelector.BACKDROP_COLOR=n)}startStream(t,e){const{dx:n,dy:i}=e,r=this.canvas.getContext("2d");var s=t.getVideoTracks()[0].getSettings();this.displaySurfaceType=s&&s.displaySurface,this.constraints=this._correctCoordinates(e,!0),this.videoEl.ontimeupdate=()=>{this._cropFrame(r,this.videoEl)},this.videoEl.onpause=()=>r.clearRect(0,0,n,i),this.videoEl.onended=()=>r.clearRect(0,0,n,i),this.videoEl.srcObject=t,this.videoEl.play(),this.canvas.width=n,this.canvas.height=i,this._togglePreviewer(!0),this.windowManager.init(),this.windowManager.fitCanvas(this.canvas)}stopStream(){const t=this.videoEl.srcObject.getTracks();(t||[]).forEach(t=>t.stop()),this.videoEl.srcObject=null,this._togglePreviewer(!1)}destroy(){this.areaSelector.destroy(),this.windowManager.destroy(),this.containerEl.remove()}onStreamStarted(t){}onStreamStopped(){}_cropFrame(t,e){var n,i,r,s;t&&({x:n,y:i,dx:r,dy:s}=this.constraints,t.drawImage(e,n,i,r,s,0,0,r,s))}_createElement(t,e){const n=document.createElement(t);return n.setAttribute("id",e),n}_initPreviewer(t){const e=this._createElement("div",c("preview")),n=this._createElement("div",c("canvas-wrap")),i=this._createElement("div",c("preview-header")),r=this._createElement("div",c("preview-footer"));return i.classList.add("window-move"),this._headerButtonsConfig.forEach(t=>{t=this._renderHeaderButton(t);i.append(t)}),this._footerButtonsConfig.forEach(t=>{t=this._renderFooterButton(t);r.append(t)}),n.append(t),e.append(i,n,r),e}_renderHeaderButton(t){let{id:e,icon:n,callback:i,iconSize:r}=t;const s=document.createElement("button");return s.setAttribute("id",e),s.setAttribute("type","button"),s.classList.add("crms-control","icon-btn"),r&&s.classList.add(r),s.innerHTML=n,s.onmousedown=t=>{t.stopPropagation()},s.onclick=t=>{d(i,t.currentTarget)},s}_renderFooterButton(t){let{id:e,text:n,primary:i,visible:r,group:s,callback:o}=t;const a=document.createElement("button");return a.setAttribute("id",e),a.setAttribute("type","button"),a.classList.add("btn","crms-control"),s&&s.push(a),i&&a.classList.add("btn-primary"),a.innerText=n,!(a.onclick=()=>{d(o)})===r&&a.classList.add(c("hidden")),a}_togglePreviewer(t){t?this.containerEl.classList.remove(c("hidden")):this.containerEl.classList.add(c("hidden"))}_toggleButtons(t){if(1===t)return this.buttonGroup[1].forEach(t=>t.classList.remove(c("hidden"))),void this.buttonGroup[2].forEach(t=>t.classList.add(c("hidden")));2===t&&(this.buttonGroup[2].forEach(t=>t.classList.remove(c("hidden"))),this.buttonGroup[1].forEach(t=>t.classList.add(c("hidden"))))}_correctCoordinates(e,n){var i=function(){let t;const e=navigator.userAgent;return t=-1<e.indexOf("Firefox")?"Firefox":-1<e.indexOf("SamsungBrowser")?"Samsung Internet":-1<e.indexOf("Opera")||-1<e.indexOf("OPR")?"Opera":-1<e.indexOf("Trident")?"IE":-1<e.indexOf("Edge")?"EdgeLegacy)":-1<e.indexOf("Edg")?"Edge":-1<e.indexOf("Chrome")?"Chrome":-1<e.indexOf("Safari")?"Safari":"unknown",t}();if(!this.displaySurfaceType||"monitor"===this.displaySurfaceType){var{top:t,left:r}={top:window.screenY+s(),left:window.screenX<0?0:window.screenX};return{...e,x:n?e.x+r:e.x-r,y:n?e.y+t:e.y-t}}if("window"!==this.displaySurfaceType&&"browser"!==this.displaySurfaceType)return e;{console.warn("CropMyScreen does support cropping of the entire screen.\nIt does not crop browser window or tab well enough.\nPlease, use 'Entire screen' option instead.");let t=0;return"Chrome"===i&&(t=7*window.devicePixelRatio),{...e,y:n?e.y+s()+t:e.y-s()-t}}}get _headerButtonsConfig(){return[{id:c("btn-minimize"),icon:l(),iconSize:"s20",callback:(()=>{let e=!1;return t=>{e?(t.innerHTML=l(),this.windowManager.minimize(!1)):(t.innerHTML=p(),this.windowManager.minimize(!0)),e=!e}})()},{id:c("btn-close"),icon:a(),iconSize:"s24",callback:()=>{this.stopStream(),this.onStreamStopped()}}]}get _footerButtonsConfig(){var t={id:c("btn-select-area"),text:"Select Area",primary:!1,visible:!0,group:this.buttonGroup[1],callback:()=>{var t=this._correctCoordinates(this.constraints,!1);this.areaSelector.init(t),this._toggleButtons(2)}};return[{id:c("btn-cancel-selection"),text:"Cancel",primary:!1,visible:!1,group:this.buttonGroup[2],callback:()=>{this.areaSelector.remove(),this._toggleButtons(1)}},{id:c("btn-apply-selection"),text:"Apply",primary:!0,visible:!1,group:this.buttonGroup[2],callback:()=>{this.constraints=this._correctCoordinates(this.areaSelector.getCoords(),!0),this.areaSelector.remove(),this.canvas.width=this.constraints.dx,this.canvas.height=this.constraints.dy,this.windowManager.fitCanvas(this.canvas),this._toggleButtons(1)}},t,{id:c("btn-start-sharing"),text:"Start presentation",primary:!0,group:this.buttonGroup[1],callback:()=>{var t=this.canvas.captureStream();this.onStreamStarted(t),this._togglePreviewer(!1)}}]}}var g=B(379),v=B.n(g),b=B(795),f=B.n(b),m=B(569),o=B.n(m),h=B(565),A=B.n(h),g=B(216),b=B.n(g),m=B(589),h=B.n(m),g=B(740),m={};m.styleTagTransform=h(),m.setAttributes=A(),m.insert=o().bind(null,"head"),m.domAPI=f(),m.insertStyleElement=b();v()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals;function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class w{constructor(t){_(this,"settings",void 0),_(this,"cropper",void 0),this.settings={...this._defaultOptions(),...t||{}}}init(){this.cropper||(this.cropper=new u(w.prefix)),this.cropper.render({customClass:this.settings.previewerClass,backdropColor:this.settings.backdropColor})}start(t){return this.cropper.startStream(t,{x:this.settings.cropX,y:this.settings.cropY,dx:this.settings.cropW,dy:this.settings.cropH}),new Promise((e,t)=>{this.cropper.onStreamStarted=t=>{e(t)},this.cropper.onStreamStopped=()=>{t()}})}stop(){this.cropper.stopStream()}destroy(){this.cropper.destroy()}_defaultOptions(){return{backdropColor:"#00000073",cropX:0,cropY:0,cropW:640,cropH:480,previewerClass:""}}}_(w,"prefix","crms");const y=w})(),CropMyScreen=x.default})();