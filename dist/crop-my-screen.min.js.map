{"version":3,"file":"crop-my-screen.min.js","mappings":"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","sources":["webpack://CropMyScreen/./src/css/styles.css","webpack://CropMyScreen/./node_modules/css-loader/dist/runtime/api.js","webpack://CropMyScreen/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://CropMyScreen/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://CropMyScreen/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://CropMyScreen/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://CropMyScreen/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://CropMyScreen/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://CropMyScreen/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://CropMyScreen/./src/assets/window-maximize.svg","webpack://CropMyScreen/./src/assets/window-minimize.svg","webpack://CropMyScreen/./src/assets/xmark.svg","webpack://CropMyScreen/webpack/bootstrap","webpack://CropMyScreen/webpack/runtime/compat get default export","webpack://CropMyScreen/webpack/runtime/define property getters","webpack://CropMyScreen/webpack/runtime/hasOwnProperty shorthand","webpack://CropMyScreen/./src/util.js","webpack://CropMyScreen/./src/area-selector.js","webpack://CropMyScreen/./src/window-manager.js","webpack://CropMyScreen/./src/cropper.js","webpack://CropMyScreen/./src/css/styles.css?99a3","webpack://CropMyScreen/./src/index.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#crms-container {\\n\\tposition: absolute;\\n\\tleft: 0;\\n\\tbottom: 0;\\n\\twidth: 640px;\\n\\theight: 570px;\\n\\tz-index: 10;\\n\\tbackground: #fff;\\n\\tborder-radius: 5px;\\n\\toverflow: hidden;\\n\\tbox-shadow: 1px 1px 7px 0 #343434;\\n\\twill-change: transform;\\n}\\n\\n#crms-canvas-wrap {\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\tbackground: #d3d3d3;\\n}\\n\\n#crms-preview {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: space-between;\\n\\tbackground: #d3d3d3;\\n}\\n\\n#crms-preview-header {\\n\\theight: 30px;\\n\\tcursor: grab;\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\talign-items: center;\\n\\tbackground: #fff;\\n}\\n\\n#crms-preview-footer {\\n\\theight: 50px;\\n\\tpadding: 5px 10px;\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\talign-items: center;\\n\\tbackground: #fff;\\n}\\n\\n#crms-input {\\n\\tdisplay: none;\\n\\tvisibility: hidden;\\n}\\n\\n#crms-output {\\n\\tdisplay: block;\\n\\tbackground-color: #6a6a6a;\\n}\\n\\n/* #sharingScreen.visible {\\n  display: block;\\n} */\\n\\n/* screen share area selector */\\n#backdrop-wrapper {\\n\\tposition: fixed;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tz-index: 1;\\n}\\n\\n#drag-markers-container {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tleft: 0;\\n}\\n\\n.draggable {\\n\\tposition: absolute;\\n\\twidth: 16px;\\n\\theight: 16px;\\n\\tcursor: move;\\n\\tz-index: 2;\\n}\\n\\n.btn {\\n\\tdisplay: inline-block;\\n\\tfont-weight: 400;\\n\\ttext-align: center;\\n\\twhite-space: nowrap;\\n\\tvertical-align: middle;\\n\\t-webkit-user-select: none;\\n\\t-moz-user-select: none;\\n\\t-ms-user-select: none;\\n\\tuser-select: none;\\n\\tborder: 1px solid #f8f9fa;\\n\\tmargin: 0 .75rem;\\n\\tpadding: .375rem .75rem;\\n\\tfont-size: 1rem;\\n\\tline-height: 1.5;\\n\\tborder-radius: .25rem;\\n\\ttransition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;\\n\\tcolor: #212529;\\n\\tbackground-color: #f8f9fa;\\n\\tcursor: pointer;\\n}\\n\\n.btn:hover {\\n\\tbackground-color: #e2e6ea;\\n\\tborder-color: #dae0e5;\\n}\\n\\n.btn-primary {\\n\\tcolor: #fff;\\n\\tbackground-color: #007bff;\\n\\tborder-color: #007bff;\\n}\\n\\n.btn-primary:hover {\\n\\tbackground-color: #0069d9;\\n\\tborder-color: #0062cc;\\n}\\n\\n.icon-btn {\\n\\tbackground: none;\\n\\tborder: none;\\n\\toutline: none;\\n\\tpadding: 2px 7px;\\n\\tcursor: pointer;\\n}\\n\\n.icon-btn.s20 {\\n\\tpadding: 4px 9px;\\n}\\n\\n.icon-btn:hover {\\n\\tbackground-color: #e2e6ea;\\n\\tborder-color: #dae0e5;\\n}\\n\\n.icon-btn.s24 > svg {\\n\\twidth: 24px;\\n\\theight: 24px;\\n}\\n\\n.icon-btn.s20 > svg {\\n\\twidth: 20px;\\n\\theight: 20px;\\n}\\n\\n/* end screen share area selector */\\n#buttons {\\n\\tposition: absolute;\\n\\tbottom: 0;\\n\\tpadding: 1rem;\\n\\tbackground: #6a6a6a;\\n\\tz-index: 999;\\n}\\n\\n.crms-hidden {\\n\\tdisplay: none !important;\\n\\tvisibility: hidden;\\n}\\n\\n.w100 {\\n\\twidth: 100%;\\n}\\n\\n.h100 {\\n\\theight: 100%;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/styles.css\"],\"names\":[],\"mappings\":\"AAAA;CACC,kBAAkB;CAClB,OAAO;CACP,SAAS;CACT,YAAY;CACZ,aAAa;CACb,WAAW;CACX,gBAAgB;CAChB,kBAAkB;CAClB,gBAAgB;CAChB,iCAAiC;CACjC,sBAAsB;AACvB;;AAEA;CACC,aAAa;CACb,uBAAuB;CACvB,mBAAmB;AACpB;;AAEA;CACC,WAAW;CACX,YAAY;CACZ,aAAa;CACb,sBAAsB;CACtB,8BAA8B;CAC9B,mBAAmB;AACpB;;AAEA;CACC,YAAY;CACZ,YAAY;CACZ,aAAa;CACb,yBAAyB;CACzB,mBAAmB;CACnB,gBAAgB;AACjB;;AAEA;CACC,YAAY;CACZ,iBAAiB;CACjB,aAAa;CACb,yBAAyB;CACzB,mBAAmB;CACnB,gBAAgB;AACjB;;AAEA;CACC,aAAa;CACb,kBAAkB;AACnB;;AAEA;CACC,cAAc;CACd,yBAAyB;AAC1B;;AAEA;;GAEG;;AAEH,+BAA+B;AAC/B;CACC,eAAe;CACf,MAAM;CACN,OAAO;CACP,WAAW;CACX,YAAY;CACZ,UAAU;AACX;;AAEA;CACC,kBAAkB;CAClB,MAAM;CACN,OAAO;AACR;;AAEA;CACC,kBAAkB;CAClB,WAAW;CACX,YAAY;CACZ,YAAY;CACZ,UAAU;AACX;;AAEA;CACC,qBAAqB;CACrB,gBAAgB;CAChB,kBAAkB;CAClB,mBAAmB;CACnB,sBAAsB;CACtB,yBAAyB;CACzB,sBAAsB;CACtB,qBAAqB;CACrB,iBAAiB;CACjB,yBAAyB;CACzB,gBAAgB;CAChB,uBAAuB;CACvB,eAAe;CACf,gBAAgB;CAChB,qBAAqB;CACrB,iIAAiI;CACjI,cAAc;CACd,yBAAyB;CACzB,eAAe;AAChB;;AAEA;CACC,yBAAyB;CACzB,qBAAqB;AACtB;;AAEA;CACC,WAAW;CACX,yBAAyB;CACzB,qBAAqB;AACtB;;AAEA;CACC,yBAAyB;CACzB,qBAAqB;AACtB;;AAEA;CACC,gBAAgB;CAChB,YAAY;CACZ,aAAa;CACb,gBAAgB;CAChB,eAAe;AAChB;;AAEA;CACC,gBAAgB;AACjB;;AAEA;CACC,yBAAyB;CACzB,qBAAqB;AACtB;;AAEA;CACC,WAAW;CACX,YAAY;AACb;;AAEA;CACC,WAAW;CACX,YAAY;AACb;;AAEA,mCAAmC;AACnC;CACC,kBAAkB;CAClB,SAAS;CACT,aAAa;CACb,mBAAmB;CACnB,YAAY;AACb;;AAEA;CACC,wBAAwB;CACxB,kBAAkB;AACnB;;AAEA;CACC,WAAW;AACZ;;AAEA;CACC,YAAY;AACb\",\"sourcesContent\":[\"#crms-container {\\n\\tposition: absolute;\\n\\tleft: 0;\\n\\tbottom: 0;\\n\\twidth: 640px;\\n\\theight: 570px;\\n\\tz-index: 10;\\n\\tbackground: #fff;\\n\\tborder-radius: 5px;\\n\\toverflow: hidden;\\n\\tbox-shadow: 1px 1px 7px 0 #343434;\\n\\twill-change: transform;\\n}\\n\\n#crms-canvas-wrap {\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\tbackground: #d3d3d3;\\n}\\n\\n#crms-preview {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: space-between;\\n\\tbackground: #d3d3d3;\\n}\\n\\n#crms-preview-header {\\n\\theight: 30px;\\n\\tcursor: grab;\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\talign-items: center;\\n\\tbackground: #fff;\\n}\\n\\n#crms-preview-footer {\\n\\theight: 50px;\\n\\tpadding: 5px 10px;\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\talign-items: center;\\n\\tbackground: #fff;\\n}\\n\\n#crms-input {\\n\\tdisplay: none;\\n\\tvisibility: hidden;\\n}\\n\\n#crms-output {\\n\\tdisplay: block;\\n\\tbackground-color: #6a6a6a;\\n}\\n\\n/* #sharingScreen.visible {\\n  display: block;\\n} */\\n\\n/* screen share area selector */\\n#backdrop-wrapper {\\n\\tposition: fixed;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tz-index: 1;\\n}\\n\\n#drag-markers-container {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tleft: 0;\\n}\\n\\n.draggable {\\n\\tposition: absolute;\\n\\twidth: 16px;\\n\\theight: 16px;\\n\\tcursor: move;\\n\\tz-index: 2;\\n}\\n\\n.btn {\\n\\tdisplay: inline-block;\\n\\tfont-weight: 400;\\n\\ttext-align: center;\\n\\twhite-space: nowrap;\\n\\tvertical-align: middle;\\n\\t-webkit-user-select: none;\\n\\t-moz-user-select: none;\\n\\t-ms-user-select: none;\\n\\tuser-select: none;\\n\\tborder: 1px solid #f8f9fa;\\n\\tmargin: 0 .75rem;\\n\\tpadding: .375rem .75rem;\\n\\tfont-size: 1rem;\\n\\tline-height: 1.5;\\n\\tborder-radius: .25rem;\\n\\ttransition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;\\n\\tcolor: #212529;\\n\\tbackground-color: #f8f9fa;\\n\\tcursor: pointer;\\n}\\n\\n.btn:hover {\\n\\tbackground-color: #e2e6ea;\\n\\tborder-color: #dae0e5;\\n}\\n\\n.btn-primary {\\n\\tcolor: #fff;\\n\\tbackground-color: #007bff;\\n\\tborder-color: #007bff;\\n}\\n\\n.btn-primary:hover {\\n\\tbackground-color: #0069d9;\\n\\tborder-color: #0062cc;\\n}\\n\\n.icon-btn {\\n\\tbackground: none;\\n\\tborder: none;\\n\\toutline: none;\\n\\tpadding: 2px 7px;\\n\\tcursor: pointer;\\n}\\n\\n.icon-btn.s20 {\\n\\tpadding: 4px 9px;\\n}\\n\\n.icon-btn:hover {\\n\\tbackground-color: #e2e6ea;\\n\\tborder-color: #dae0e5;\\n}\\n\\n.icon-btn.s24 > svg {\\n\\twidth: 24px;\\n\\theight: 24px;\\n}\\n\\n.icon-btn.s20 > svg {\\n\\twidth: 20px;\\n\\theight: 20px;\\n}\\n\\n/* end screen share area selector */\\n#buttons {\\n\\tposition: absolute;\\n\\tbottom: 0;\\n\\tpadding: 1rem;\\n\\tbackground: #6a6a6a;\\n\\tz-index: 999;\\n}\\n\\n.crms-hidden {\\n\\tdisplay: none !important;\\n\\tvisibility: hidden;\\n}\\n\\n.w100 {\\n\\twidth: 100%;\\n}\\n\\n.h100 {\\n\\theight: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\"><path d=\\\"M7.724 65.49C13.36 55.11 21.79 46.47 32 40.56C39.63 36.15 48.25 33.26 57.46 32.33C59.61 32.11 61.79 32 64 32H448C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 93.79 .112 91.61 .3306 89.46C1.204 80.85 3.784 72.75 7.724 65.49V65.49zM48 416C48 424.8 55.16 432 64 432H448C456.8 432 464 424.8 464 416V224H48V416z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\"><path d=\\\"M0 456C0 442.7 10.75 432 24 432H488C501.3 432 512 442.7 512 456C512 469.3 501.3 480 488 480H24C10.75 480 0 469.3 0 456z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 320 512\\\"><path d=\\\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\\\"></path></svg>\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * Prefix for the plugin related CSS selectors\n * @type {string}\n */\nconst prefix = 'crms';\n\n/**\n * Get browser name from user agent\n * @returns {string}\n */\nfunction getUserAgent() {\n  let ua;\n  const sUsrAg = navigator.userAgent;\n\n  if (sUsrAg.indexOf('Firefox') > -1) {\n    ua = 'Firefox';\n  } else if (sUsrAg.indexOf('SamsungBrowser') > -1) {\n    ua = 'Samsung Internet';\n  } else if (sUsrAg.indexOf('Opera') > -1 || sUsrAg.indexOf('OPR') > -1) {\n    ua = 'Opera';\n  } else if (sUsrAg.indexOf('Trident') > -1) {\n    ua = 'IE';\n  } else if (sUsrAg.indexOf('Edge') > -1) {\n    ua = 'EdgeLegacy)';\n  } else if (sUsrAg.indexOf('Edg') > -1) {\n    ua = 'Edge';\n  } else if (sUsrAg.indexOf('Chrome') > -1) {\n    ua = 'Chrome';\n  } else if (sUsrAg.indexOf('Safari') > -1) {\n    ua = 'Safari';\n  } else {\n    ua = 'unknown';\n  }\n  return ua;\n}\n\n/**\n * Get distance between the browser top-left corner and the top-left corner of the main monitor\n * @returns {{top: number, left: number}}\n */\nfunction getScreenOffset() {\n  return {\n    // includes the browser's tab bar\n    top: window.screenY + getBrowserHeaderSize(),\n    left: window.screenX < 0 ? 0 : window.screenX\n  };\n}\n\n/**\n * Get the browser top bar size\n * IMPORTANT - THIS METHOD IS NOT IDEAL AS IT ALSO COUNTS THE BROWSER BOTTOM BAR IF IT EXISTS\n * @returns {number}\n */\nfunction getBrowserHeaderSize() {\n  return window.outerHeight - window.innerHeight;\n}\n\n/**\n * Get aspect ration\n * @param {number} width\n * @param {number} height\n * @returns {number}\n */\nfunction getRatio(width, height) {\n  return width/height > 1 ? aspectRationEnum.landscape : aspectRationEnum.portrait;\n}\n\n/**\n * Add plugin prefix to the string id\n * @param {string} id\n * @returns {string}\n */\nfunction withPrefix(id) {\n  return `${prefix}-${id}`;\n}\n\n/**\n * Call callback function with provided parameters\n * @param {Function} callback\n * @param {any} params\n */\nfunction doCallback (callback, params) {\n  if (callback && typeof callback === 'function') {\n    callback.call(this, params);\n  }\n}\n\n/**\n * Human readable values for aspect ratio\n * @type {{portrait: number, landscape: number}}\n */\nconst aspectRationEnum = {\n  landscape: 1,\n  portrait: 2\n};\n\n\nexport {getUserAgent, getBrowserHeaderSize, getScreenOffset, getRatio, withPrefix, doCallback, aspectRationEnum};\n","import {withPrefix} from './util';\n\n/**\n * AreaSelector provides the ability for users to select the cropping area.\n * It creates visual elements and controls to select a rectangle.\n * Area selection is represented by two approaches:\n * 1) by drawing the square\n * 2) by resizing the existing area\n *\n * AreaSelector uses two canvases - one for backdrop and another as a mask for the selected area.\n * Additionally, AreaSelector creates several UI elements (drag points) for moving area around the window.\n * @property {boolean} resizing - Defines area resizing state\n * @property {boolean} drawing - Defines area drawing state\n * @property {HTMLDivElement} dragPoint - The element that user selects to resize the area\n * @property {HTMLCanvasElement} backdropCanvas - Backdrop canvas element\n * @property {CanvasRenderingContext2D} backdropCtx - Backdrop canvas context\n * @property {number} START_X - Area rectangle top-left point (X-asis)\n * @property {number} START_Y - Area rectangle top-left point (Y-asis)\n * @property {number} END_X - Area rectangle bottom-right point (X-asis)\n * @property {number} END_Y - Area rectangle bottom-right point (Y-asis)\n * @property {number} CROP_W - Area rectangle width\n * @property {number} CROP_H - Area rectangle height\n * @property {string} BACKDROP_COLOR - Backdrop canvas color in HEX format with alpha channel (ex. #00000093)\n */\nexport default class AreaSelector {\n  resizing = false;\n  drawing = false;\n  dragPoint;\n  backdropCanvas;\n  backdropCtx;\n  START_X;\n  START_Y;\n  END_X;\n  END_Y;\n  CROP_W;\n  CROP_H;\n  BACKDROP_COLOR;\n\n  /**\n   * Initialize and render UI elements - backdrop, selected area and drag points\n   * Attach mouse events for area drawing\n   * @param {{\n   *   x: number,\n   *   y: number,\n   *   dx: number,\n   *   dy: number\n   * }} constraints - Predefined area constraints\n   */\n  init(constraints) {\n    if (!constraints) {\n      this.START_X = 0;\n      this.START_Y = 0;\n    } else {\n      this.START_X = constraints.x || 0;\n      this.START_Y = constraints.y || 0;\n      this.CROP_W = constraints.dx || 0;\n      this.CROP_H = constraints.dy || 0;\n      this.END_X = this.START_X + this.CROP_W;\n      this.END_Y = this.START_Y + this.CROP_H;\n    }\n\n    this._drawBackDrop(true);\n\n    // screen-sharing area selection start\n    this.areaSelectionStart = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      // prevent area selection if a user initiated area resizing or clicks on buttons in the previewer\n      if (e.target.classList.contains(withPrefix('control')) || this.resizing) {\n        return;\n      }\n\n      document.querySelectorAll('.draggable').forEach(el => el.remove());\n      this.drawing = true;\n      this.START_X = e.clientX;\n      this.START_Y = e.clientY;\n    };\n\n    // screen-sharing area selection end\n    this.areaSelectionEnd = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      // prevent area selection if a user clicks on buttons in the previewer\n      if (e.target.classList.contains(withPrefix('control'))) {\n        return;\n      }\n\n      if (this.resizing) {\n        this.resizing = false;\n\n        this._swapCoordinates();\n        this._drawResizeMarkers(this.backdropCtx);\n      }\n\n      if (this.drawing) {\n        this.drawing = false;\n\n        // if user did not move the mouse\n        if (e.clientX === this.START_X && e.clientY === this.START_Y) {\n          return;\n        }\n\n        this._swapCoordinates();\n        this._drawResizeMarkers(this.backdropCtx);\n      }\n    };\n\n    // screen-sharing area selection\n    this.areaSelectionMouseMove = e => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (this.resizing) {\n        this._areaResize(e);\n        this._drawArea();\n        return;\n      }\n\n      if (!this.drawing) { return; }\n\n      // calculate the rectangle width/height based\n      // on starting vs current mouse position\n      this.CROP_W = e.clientX - this.START_X;\n      this.CROP_H = e.clientY - this.START_Y;\n      this.END_X = e.clientX;\n      this.END_Y = e.clientY;\n\n      this._drawArea();\n    };\n\n    document.addEventListener('mousedown', this.areaSelectionStart);\n    document.addEventListener('mouseup', this.areaSelectionEnd);\n    document.addEventListener('mousemove', this.areaSelectionMouseMove);\n  }\n\n  /**\n   * Get selected area coordinates.\n   * @returns {{dx: number, dy: number, x: number, y: number}}\n   */\n  getCoords() {\n    return {\n      x: this.START_X,\n      y: this.START_Y,\n      dx: this.CROP_W,\n      dy: this.CROP_H\n    };\n  }\n\n  /**\n   * Clean up AreaSelector\n   */\n  destroy() {\n    try {\n      this._remove();\n    } catch (_) {\n      // I want application to not crush, but don't care about the message\n    }\n  }\n\n  /**\n   * Remove UI elements and clear event listeners\n   * @private\n   */\n  _remove() {\n    if (this.areaSelectionStart) {\n      document.removeEventListener('mousedown', this.areaSelectionStart, false);\n      this.areaSelectionStart = null;\n    }\n\n    if (this.areaSelectionEnd) {\n      document.removeEventListener('mouseup', this.areaSelectionEnd, false);\n      this.areaSelectionEnd = null;\n    }\n\n    if (this.areaSelectionMouseMove) {\n      document.removeEventListener('mousemove', this.areaSelectionMouseMove, false);\n      this.areaSelectionMouseMove = null;\n    }\n\n    document.getElementById('backdrop-wrapper').remove();\n  }\n\n  /**\n   * Init and render or clear backdrop canvas and related UI elements\n   * @param {boolean} status - Render or clear the backdrop\n   * @private\n   */\n  _drawBackDrop(status) {\n    if (!status) {\n      const backdrop = document.getElementById('backdrop-wrapper');\n      backdrop && document.body.removeChild(backdrop);\n      this.backdropCtx = null;\n      return;\n    }\n    const backdropWrapper = document.createElement('div');\n    backdropWrapper.setAttribute('id', 'backdrop-wrapper');\n    document.body.appendChild(backdropWrapper);\n\n    this.backdropCanvas = document.createElement('canvas');\n    this.backdropCanvas.width = backdropWrapper.clientWidth;\n    this.backdropCanvas.height = backdropWrapper.clientHeight;\n\n    this.dragMarkersContainer = document.createElement('div');\n    this.dragMarkersContainer.setAttribute('id', 'drag-markers-container');\n\n    backdropWrapper.appendChild(this.backdropCanvas);\n    backdropWrapper.appendChild(this.dragMarkersContainer);\n    this.backdropCtx = this.backdropCanvas.getContext('2d');\n    this.backdropCtx.fillStyle = this.BACKDROP_COLOR;\n    this.backdropCtx.fillRect(0, 0, this.backdropCanvas.width, this.backdropCanvas.height);\n    this._drawArea();\n    this._drawResizeMarkers(this.backdropCtx);\n  }\n\n  /**\n   * Init and render selected area\n   * @private\n   */\n  _drawArea() {\n    this.backdropCtx.clearRect(0, 0, this.backdropCanvas.width, this.backdropCanvas.height);\n    this.backdropCtx.fillStyle = this.BACKDROP_COLOR;\n    this.backdropCtx.fillRect(0, 0, this.backdropCanvas.width, this.backdropCanvas.height);\n\n    this.backdropCtx.globalCompositeOperation = 'destination-out';\n\n    // cut area from backdrop\n    this.backdropCtx.fillStyle = 'red';\n    this.backdropCtx.fillRect(this.START_X, this.START_Y, this.CROP_W, this.CROP_H);\n\n    this.backdropCtx.globalCompositeOperation = 'source-over';\n\n    // draw selected area border\n    this.backdropCtx.strokeStyle = 'rgb(163, 9, 9)';\n    this.backdropCtx.setLineDash([6]);\n    this.backdropCtx.lineWidth = '3';\n    this.backdropCtx.strokeRect(this.START_X, this.START_Y, this.CROP_W, this.CROP_H);\n  }\n\n  /**\n   * Swap coordinates in case drawing/resizing moved in the opposite direction\n   * @private\n   */\n  _swapCoordinates() {\n    if (this.END_X < this.START_X) {\n      const c = this.START_X;\n      this.START_X = this.END_X;\n      this.END_X = c;\n      this.CROP_W = this.END_X - this.START_X;\n    }\n    if (this.END_Y < this.START_Y) {\n      const c = this.START_Y;\n      this.START_Y = this.END_Y;\n      this.END_Y = c;\n      this.CROP_H = this.END_Y - this.START_Y;\n    }\n  }\n\n  /**\n   * Init and render resize markers around the selected area. Attack mouse events to these points\n   * @param {CanvasRenderingContext2D} ctx - Backdrop canvas context\n   * @private\n   */\n  _drawResizeMarkers(ctx) {\n    const size = 8;\n    const offset = size / 2;\n    ctx.fillStyle = 'rgb(180, 9, 9)';\n\n    const points = {\n      topLeft: {\n        type: 0,\n        values: [this.START_X - offset, this.START_Y - offset]\n      },\n      topCenter: {\n        type: 1,\n        values: [this.START_X + ((this.CROP_W / 2) - offset), this.START_Y - offset]\n      },\n      topRight: {\n        type: 0,\n        values: [this.END_X - offset, this.START_Y - offset]\n      },\n      rightCenter: {\n        type: 1,\n        values: [this.END_X - offset, this.START_Y + ((this.CROP_H / 2) - offset)]\n      },\n      bottomRight: {\n        type: 0,\n        values: [this.END_X - offset, this.END_Y - offset]\n      },\n      bottomCenter: {\n        type: 1,\n        values: [this.START_X + ((this.CROP_W / 2) - offset), this.END_Y - offset]\n      },\n      bottomLeft: {\n        type: 0,\n        values: [this.START_X - offset, this.END_Y - offset]\n      },\n      leftCenter: {\n        type: 1,\n        values: [this.START_X - offset, this.START_Y + ((this.CROP_H / 2) - offset)]\n      }\n    };\n\n    for (let [key, point] of Object.entries(points)) {\n      ctx.fillRect(point.values[0], point.values[1], size, size);\n\n      const el = document.createElement('div');\n      el.classList.add('draggable');\n      el.setAttribute('side', key);\n      point.type > 0 ? el.classList.add('side') : el.classList.add('corner');\n      el.style.top = point.values[1] - offset + 'px';\n      el.style.left = point.values[0] - offset + 'px';\n      this.dragMarkersContainer.appendChild(el);\n    }\n    document.querySelectorAll('.draggable').forEach(el => {\n      el.addEventListener('mousedown', this._areaResizeStart.bind(this));\n    });\n  }\n\n  /**\n   * Start resizing the area. Define drag point\n   * @param {MouseEvent} e\n   * @private\n   */\n  _areaResizeStart(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.resizing = true;\n    this.dragPoint = e.target;\n    document.querySelectorAll('.draggable').forEach(el => {\n      el.removeEventListener('mousedown', this._areaResizeStart);\n      el.remove();\n    });\n  }\n\n  /**\n   * Resize the area based on the drag point type\n   * @param {MouseWheelEvent} e\n   * @private\n   */\n  _areaResize(e) {\n    const pointSide = this.dragPoint.getAttribute('side');\n\n    switch (pointSide) {\n    case 'topLeft': {\n      const deltaX = e.clientX - this.START_X;\n      const deltaY = e.clientY - this.START_Y;\n      this.CROP_W = this.CROP_W - deltaX;\n      this.CROP_H = this.CROP_H - deltaY;\n      this.START_X = e.clientX;\n      this.START_Y = e.clientY;\n      break;\n    }\n    case 'topCenter': {\n      const deltaY = e.clientY - this.START_Y;\n      this.CROP_H = this.CROP_H - deltaY;\n      this.START_Y = e.clientY;\n      break;\n    }\n    case 'topRight': {\n      const deltaX = e.clientX - this.END_X;\n      const deltaY = e.clientY - this.START_Y;\n      this.CROP_W = this.CROP_W + deltaX;\n      this.CROP_H = this.CROP_H - deltaY;\n      this.END_X = e.clientX;\n      this.START_Y = e.clientY;\n      break;\n    }\n    case 'rightCenter': {\n      const deltaX = e.clientX - this.END_X;\n      this.CROP_W = this.CROP_W + deltaX;\n      this.END_X = e.clientX;\n      break;\n    }\n    case 'bottomRight': {\n      const deltaX = e.clientX - this.END_X;\n      const deltaY = e.clientY - this.END_Y;\n      this.CROP_W = this.CROP_W + deltaX;\n      this.CROP_H = this.CROP_H + deltaY;\n      this.END_X = e.clientX;\n      this.END_Y = e.clientY;\n      break;\n    }\n    case 'bottomCenter': {\n      const deltaY = e.clientY - this.END_Y;\n      this.CROP_H = this.CROP_H + deltaY;\n      this.END_Y = e.clientY;\n      break;\n    }\n    case 'bottomLeft': {\n      const deltaX = e.clientX - this.START_X;\n      const deltaY = e.clientY - this.END_Y;\n      this.CROP_W = this.CROP_W - deltaX;\n      this.CROP_H = this.CROP_H + deltaY;\n      this.START_X = e.clientX;\n      this.END_Y = e.clientY;\n      break;\n    }\n    case 'leftCenter': {\n      const deltaX = e.clientX - this.START_X;\n      this.CROP_W = this.CROP_W - deltaX;\n      this.START_X = e.clientX;\n      break;\n    }\n    }\n  }\n}\n","import {aspectRationEnum, getRatio, withPrefix} from './util';\n\n/**\n * WindowManager is responsible for positioning the preview window.\n * It allows users to move the popup across the page, to minimize the window, etc.\n * Also, it applies additional calculation for preview window elements size to fit canvas properly.\n *\n * @property {boolean} _isMoving - Determines if window is being moved by user\n * @property {x: number, y: number} _startCoords - Starting point of the window movement\n * @property {x: number, y: number} _translateOffset - Final distance on which the window has been moved. Is being used for CSS property 'translate'\n * @property {number} _deltaX - The distance between starting and ending points of window movement in the X-axis\n * @property {number} _deltaY - The distance between starting and ending points of window movement in the Y-axis\n * @property {HTMLDivElement} _dragZone - The Element that listens user input events\n * @property {HTMLDivElement} _container - Instance of main container object\n */\nexport default class WindowManager {\n  _isMoving;\n  _startCoords;\n  _translateOffset;\n  _deltaX;\n  _deltaY;\n  _dragZone;\n  _container;\n\n  constructor(container) {\n    this._container = container;\n    this._dragZone = container.querySelector('.window-move');\n\n    if (!this._container || !this._dragZone) {\n      console.error('WindowManager: Container is not available');\n      throw new Error('WindowManager: Container is not available');\n    }\n  }\n\n  /**\n   * Initialize UI elements and other objects\n   * Attach mouse events to the responsible DOM node\n   */\n  init() {\n    this._isMoving = false;\n    this._startCoords = {x: 0, y: 0};\n    this._translateOffset = {x: 0, y: 0};\n    this._deltaX = this._deltaY = 0;\n\n    this._limitCanvasWrap();\n\n    this._dragZone.addEventListener('mousedown', this._mouseDown.bind(this));\n    document.addEventListener('mousemove', this._moveMove.bind(this));\n    document.addEventListener('mouseup', this._mouseUp.bind(this));\n  }\n\n  /**\n   * Prevent the canvas from moving outside the parent container.\n   * For landscape mode the canvas must be aligned horizontally - (grey zones appear on the left and right sides)\n   * For portrait mode the canvas must be aligned vertically - (grey zones appear on the top and bottom sides)\n   * @param {HTMLCanvasElement} canvasEl - Cropping canvas\n   */\n  fitCanvas(canvasEl) {\n    let offset;\n    const applyStyles = (condition) => {\n      if (condition) {\n        canvasEl.classList.add('w100', 'h100');\n      } else {\n        canvasEl.classList.add('h100');\n        canvasEl.classList.remove('w100');\n      }\n    };\n\n    try {\n      offset = this._getHeaderFooterOffset();\n    } catch (_) {\n      offset = 0;\n    }\n\n    const containerWidth = this._container.clientWidth;\n    const containerHeight = this._container.clientHeight - offset;\n    const containerRatio = getRatio(containerWidth,containerHeight);\n\n    if (containerRatio === aspectRationEnum.portrait) {\n      applyStyles(canvasEl.width > containerWidth);\n    }\n\n    if (containerRatio === aspectRationEnum.landscape) {\n      applyStyles(canvasEl.width > containerWidth && canvasEl.height < containerHeight);\n    }\n  }\n\n  /**\n   * Minimize the preview window by toggling the visibility of the canvas and footer blocks.\n   * @param {boolean} status - Show or hide elements\n   */\n  minimize(status) {\n    if (status) {\n      const header = this._container.querySelector(`#${withPrefix('preview-header')}`);\n      const headerHeight = header && header.clientHeight;\n      this._container.style.height = headerHeight ? headerHeight + 'px' : this._container.clientHeight + 'px';\n    } else {\n      this._container.style.removeProperty('height');\n    }\n  }\n\n  /**\n   * Remove UI elements and event listeners\n   */\n  destroy() {\n    try {\n      this._dragZone.removeEventListener('mousedown', this._mouseDown);\n      document.removeEventListener('mousemove', this._moveMove);\n      document.removeEventListener('mouseup', this._mouseUp);\n      this._dragZone.remove();\n      this._container = null;\n      this._dragZone = null;\n    } catch (e) {\n      // I want application to not crush, but don't care about the message\n    }\n  }\n\n  /**\n   * Start moving the window.\n   * Collect starting points\n   * @param {MouseEvent} event\n   * @private\n   */\n  _mouseDown(event) {\n    event.stopPropagation();\n\n    this._isMoving = true;\n    this._dragZone.style.cursor = 'grabbing';\n    this._startCoords.x = event.clientX;\n    this._startCoords.y = event.clientY;\n  }\n\n  /**\n   * Move the window.\n   * Calculate distance between staring points and the cursor.\n   * Apply transformation to the window.\n   * @param {MouseEvent} event\n   * @private\n   */\n  _moveMove(event) {\n    event.stopPropagation();\n\n    if (!this._isMoving) {\n      return;\n    }\n\n    this._deltaX = event.clientX - this._startCoords.x;\n    this._deltaY = event.clientY - this._startCoords.y;\n\n    this._container.style.transform = `translate(${this._deltaX + this._translateOffset.x}px, ${this._deltaY + this._translateOffset.y}px)`;\n  }\n\n  /**\n   * End moving the window\n   * @private\n   */\n  _mouseUp(event) {\n    event.stopPropagation();\n\n    if (this._isMoving) {\n      this._isMoving = false;\n      this._dragZone.style.cursor = 'grab';\n      this._translateOffset.x += this._deltaX;\n      this._translateOffset.y += this._deltaY;\n    }\n  }\n\n  /**\n   * Apply max-width and max-height CSS properties to the canvas wrapper Element based on the main container size.\n   * It helps to position and scale the canvas correctly inside the preview window (without touching the canvas size directly).\n   * @private\n   */\n  _limitCanvasWrap() {\n    const wrapEl = this._container.querySelector(`#${withPrefix('canvas-wrap')}`);\n    let error, offset;\n\n    try {\n      offset = this._getHeaderFooterOffset();\n    } catch (e) {\n      error = e;\n      offset = 0;\n    }\n\n    if (!wrapEl) error = 'WindowManager: Canvas wrap element not found';\n\n    if (error) {\n      console.error(error);\n      throw new Error(error);\n    }\n\n    wrapEl.style.maxWidth = this._container.clientWidth + 'px';\n    wrapEl.style.maxHeight = this._container.clientHeight - offset + 'px';\n  }\n\n  /**\n   * Get the height of the header and footer blocks of the preview window.\n   * @returns {number} - The offset value\n   * @private\n   */\n  _getHeaderFooterOffset() {\n    try {\n      const headerHeight = this._container.querySelector(`#${withPrefix('preview-header')}`).clientHeight;\n      const footerHeight = this._container.querySelector(`#${withPrefix('preview-footer')}`).clientHeight;\n      return headerHeight + footerHeight;\n    } catch (e) {\n      throw new Error('WindowManager: Can\\'t obtaint header & footer height');\n    }\n  }\n\n\n}\n","import AreaSelector from './area-selector';\nimport WindowManager from './window-manager';\nimport {getUserAgent, getScreenOffset, getBrowserHeaderSize, withPrefix, doCallback} from './util';\nimport xmarkSVG from './assets/xmark.svg';\nimport minimizeSVG from './assets/window-minimize.svg';\nimport restoreSVG from './assets/window-maximize.svg';\n\n/**\n * This class renders UI elements and does the main job in the cropping process.\n * Cropper creates the <video> element in which the MediaStream has been placed.\n * When the video starts playing the Cropper gets data per frame and put it into the canvas in the preview window.\n * The Cropper crops the canvas by specified constraints and extracts media stream from it via\n * 'canvas.captureStream()' method.\n * In the future it might be possible to put MediaStream directly into the Canvas by passing it through the MediaStreamTrackProcessor\n * which is a part of WebCodec API. The example is here https://stackoverflow.com/a/56095482\n *\n * @property {{x: number, y: number, dx: number, dy: number}} constraints - Area to crop\n * @property {AreaSelector} areaSelector - Instance of AreaSelector class\n * @property {WindowManager} windowManager - Instance of WindowManager class\n * @property {HTMLDivElement} containerEl - Instance of main DOM element\n * @property {HTMLVideoElement} videoEl - Instance of video\n * @property {HTMLCanvasElement} canvas - Instance of canvas\n * @property {string} displaySurfaceType - Property of the  MediaTrackSettings dictionary. Defines what surface type\n *                                         of the Screenshare API has been selected. Possible values:\n *                                         - 'monitor',\n *                                         - 'browser',\n *                                         - 'tab',\n *                                         - 'undefined' - as Firefox does not support this property yet\n * @property {\n *    {1: Array<HTMLButtonElement>, 2: Array<HTMLButtonElement>}\n *  } buttonGroup - Splits footer buttons into two groups. Hides one of the groups on demand\n *\n *\n */\nexport default class Cropper {\n  constraints;\n  areaSelector;\n  windowManager;\n  containerEl;\n  videoEl;\n  canvas;\n  displaySurfaceType;\n  buttonGroup = {\n    1: [],\n    2: []\n  };\n\n  constructor() {\n    this.areaSelector = new AreaSelector();\n  }\n\n  /**\n   * Initialize and render UI elements.\n   * Initialize additional modules like WindowManager and AreaSelector\n   * @param {string} customClass - CSS class attached to the main container\n   * @param {string} backdropColor - HEX color for the canvas backdrop of the AreaSelector\n   */\n  render({customClass, backdropColor}) {\n    const containerId = 'container';\n    if (document.getElementById(withPrefix(containerId))) return;\n\n    this.containerEl = this._createElement('div', withPrefix(containerId));\n    customClass && this.containerEl.classList.add(customClass);\n    this.videoEl = this._createElement('video', withPrefix('input'));\n    this.canvas = this._createElement('canvas', withPrefix('output'));\n    const popup = this._initPreviewer(this.canvas);\n\n    this.videoEl.muted = true;\n\n    this.containerEl.appendChild(this.videoEl);\n    this.containerEl.appendChild(popup);\n\n    this._togglePreviewer(false);\n\n    document.body.appendChild(this.containerEl);\n    this.windowManager = new WindowManager(this.containerEl);\n    this.areaSelector.BACKDROP_COLOR = backdropColor;\n  }\n\n  /**\n   * Put stream into video element. Define canvas width/height based on provided constraints.\n   * Start cropping process\n   * @param {MediaStream} stream - Video stream object from Screenshare API\n   * @param {{\n   *   x: number,\n   *   y: number,\n   *   dx: number,\n   *   dy: number\n   * }} constraints - Constraints for the canvas\n   */\n  startStream(stream, constraints) {\n    const {dx, dy} = constraints;\n    const context = this.canvas.getContext('2d');\n    const streamSettings = stream.getVideoTracks()[0].getSettings();\n    this.displaySurfaceType = streamSettings && streamSettings.displaySurface;\n    this.constraints = this._correctCoordinates(constraints, true);\n\n    this.videoEl.ontimeupdate = () => {\n      this._cropFrame(context, this.videoEl);\n    };\n\n    this.videoEl.onpause = () => context.clearRect(0, 0, dx, dy);\n    this.videoEl.onended = () => context.clearRect(0, 0, dx, dy);\n\n\n    this.videoEl.srcObject = stream;\n    this.videoEl.play();\n    this.canvas.width = dx;\n    this.canvas.height = dy;\n    this._togglePreviewer(true);\n\n    this.windowManager.init();\n    this.windowManager.fitCanvas(this.canvas);\n  }\n\n  /**\n   * Stop cropping process. Clear video element and hide preview window\n   */\n  stopStream() {\n    try {\n      const tracks = this.videoEl.srcObject.getTracks();\n      (tracks || []).forEach(t => t.stop());\n      this.videoEl.srcObject = null;\n      this._togglePreviewer(false);\n    } catch (e) {\n      // I want application to not crush, but don't care about the message\n    }\n  }\n\n  /**\n   * Delete all plugin modules. Clear the UI\n   */\n  destroy() {\n    try {\n      this.areaSelector.destroy();\n      this.windowManager.destroy();\n      this.containerEl.remove();\n    } catch (e) {\n      // I want application to not crush, but don't care about the message\n    }\n  }\n\n  /**\n   * Event. Notifies when crop is done and stream is ready\n   * @param {MediaStream} stream - Cropped stream\n   */\n  // eslint-disable-next-line\n  onStreamStarted(stream) {\n  }\n\n  /**\n   * Event. Notifies when crop is stopped\n   */\n  onStreamStopped() {\n  }\n\n  /**\n   * Modify the canvas element\n   * @param {CanvasRenderingContext2D} context - Canvas context object\n   * @param {HTMLVideoElement} video - Video element with original stream\n   * @private\n   */\n  _cropFrame(context, video) {\n    if (!context) return;\n\n    const {x: startX, y: startY, dx: cropW, dy: cropH} = this.constraints;\n\n    context.drawImage(\n      video,\n      startX,\n      startY,\n      cropW,\n      cropH,\n      0,\n      0,\n      cropW,\n      cropH\n    );\n  }\n\n  /**\n   * Create DOM element with provided id\n   * @param {string} type - DOM element type\n   * @param {string} id - ID name\n   * @returns {HTMLElement}\n   * @private\n   */\n  _createElement(type, id) {\n    const el = document.createElement(type);\n    el.setAttribute('id', id);\n    return el;\n  }\n\n  /**\n   * Render preview window. Defines popup header and footer with buttons\n   * @param {HTMLCanvasElement} canvas - Canvas object\n   * @returns {HTMLElement} - popup window element\n   * @private\n   */\n  _initPreviewer(canvas) {\n    const popup = this._createElement('div', withPrefix('preview'));\n    const canvasWrap = this._createElement('div', withPrefix('canvas-wrap'));\n    const popupHeader = this._createElement('div', withPrefix('preview-header'));\n    const popupFooter = this._createElement('div', withPrefix('preview-footer'));\n\n    popupHeader.classList.add('window-move');\n\n    this._headerButtonsConfig.forEach(btnSettings => {\n      let btn = this._renderHeaderButton(btnSettings);\n      popupHeader.append(btn);\n    });\n\n    this._footerButtonsConfig.forEach(btnSettings => {\n      let btn = this._renderFooterButton(btnSettings);\n      popupFooter.append(btn);\n    });\n\n\n    canvasWrap.append(canvas);\n    popup.append(popupHeader, canvasWrap, popupFooter);\n\n    return popup;\n  }\n\n  /**\n   * Initialize and render the button in the preview header.\n   * Add event handlers for the button.\n   * @param {string} id - Button id name\n   * @param {string} icon - Icon in SVG format\n   * @param {Function} callback - Event handler\n   * @param {string} iconSize - CSS class that defines the size of the icon (possible values s20 and s24)\n   * @returns {HTMLButtonElement} - Button element\n   * @private\n   */\n  _renderHeaderButton({id, icon, callback, iconSize}) {\n    const btn = document.createElement('button');\n    btn.setAttribute('id', id);\n    btn.setAttribute('type', 'button');\n    btn.classList.add('crms-control', 'icon-btn');\n    iconSize && btn.classList.add(iconSize);\n    btn.innerHTML = icon;\n    // prevent window reposition event fire\n    btn.onmousedown = (event) => {\n      event.stopPropagation();\n    };\n    btn.onclick = (event) => {\n      doCallback(callback, event.currentTarget);\n    };\n    return btn;\n  }\n\n  /**\n   * Initialize and render the button in the preview footer.\n   * @param {string} id - Button id name\n   * @param {string} text - Button text value\n   * @param {boolean} primary - Button type - primary or default\n   * @param {boolean} visible - Button visibility\n   * @param {Array<HTMLButtonElement>} group - Array with buttons\n   * @param {Function} callback - Event handler\n   * @returns {HTMLButtonElement} - Button element\n   * @private\n   */\n  _renderFooterButton({id, text, primary, visible, group, callback}) {\n    const btn = document.createElement('button');\n    btn.setAttribute('id', id);\n    btn.setAttribute('type', 'button');\n    btn.classList.add('btn', 'crms-control');\n    group && group.push(btn);\n    primary && btn.classList.add('btn-primary');\n    btn.innerText = text;\n    btn.onclick = () => {\n      doCallback(callback);\n    };\n\n    if (visible === false) {\n      btn.classList.add(withPrefix('hidden'));\n    }\n\n    return btn;\n  }\n\n  /**\n   * Show or hide preview window\n   * @param {boolean} status - If true - show the window\n   * @private\n   */\n  _togglePreviewer(status) {\n    status\n      ? this.containerEl.classList.remove(withPrefix('hidden'))\n      : this.containerEl.classList.add(withPrefix('hidden'));\n  }\n\n  /**\n   * Show or hide specific button group\n   * @param {number} status - Button group id\n   * @private\n   */\n  _toggleButtons(status) {\n    if (status === 1) {\n      this.buttonGroup['1'].forEach(btn => btn.classList.remove(withPrefix('hidden')));\n      this.buttonGroup['2'].forEach(btn => btn.classList.add(withPrefix('hidden')));\n      return;\n    }\n\n    if (status === 2) {\n      this.buttonGroup['2'].forEach(btn => btn.classList.remove(withPrefix('hidden')));\n      this.buttonGroup['1'].forEach(btn => btn.classList.add(withPrefix('hidden')));\n    }\n  }\n\n  /**\n   * Correct coordinates based on screen-sharing type (the whole screen or browser/tab only)\n   * 'monitor' is the whole screen\n   * there might be a chance when displaySurface prop is not defined. It happens only in Firefox (tested on version < 93)\n   * as it does not support MediaTrackSettings.displaySurface.\n   * Coordinate correction is applied based on 'applyOffset' value. For outbound stream the offset is being added.\n   * For AreaSelector class the offset is being subtract.\n   * @param {{\n   *  x: number,\n   *  y: number,\n   *  dx: number,\n   *  dy: number\n   * }} coordinates - User defined constraints for the canvas\n   * @param {boolean} applyOffset - Add or remove offset from coordinates\n   * @returns {{\n   *   x: number,\n   *   y: number,\n   *   dx: number,\n   *   dy: number\n   * }}\n   * @private\n   */\n  _correctCoordinates(coordinates, applyOffset) {\n    const browser = getUserAgent();\n\n    if (!this.displaySurfaceType || this.displaySurfaceType === 'monitor') {\n      let {top: screenOffsetTop, left: screenOffsetLeft} = getScreenOffset();\n\n      return {\n        ...coordinates,\n        x: applyOffset ? (coordinates.x + screenOffsetLeft) : (coordinates.x - screenOffsetLeft),\n        y: applyOffset ? (coordinates.y + screenOffsetTop) : (coordinates.y - screenOffsetTop),\n      };\n    }\n\n    if (this.displaySurfaceType === 'window' || this.displaySurfaceType === 'browser') {\n      console.warn('CropMyScreen does support cropping of the entire screen.\\nIt does not crop browser window or tab well enough.\\nPlease, use \\'Entire screen\\' option instead.');\n      let buggedOffset = 0;\n\n      // in Chrome if user selects 'window' or 'tab' for sharing there is a strange bug with extra 7px offset from top\n      if (browser === 'Chrome') {\n        buggedOffset = 7 * window.devicePixelRatio;\n      }\n\n      return {\n        ...coordinates,\n        y: applyOffset\n          ? (coordinates.y + getBrowserHeaderSize() + buggedOffset)\n          : (coordinates.y - getBrowserHeaderSize() - buggedOffset),\n      };\n    }\n\n    return coordinates;\n  }\n\n  /**\n   * Configuration for header buttons\n   * @returns {\n   *  Array<{\n   *    id: string,\n   *    icon: string,\n   *    iconSize: string,\n   *    callback: Function,\n   *  }>\n   * }\n   * @private\n   */\n  get _headerButtonsConfig() {\n    const minimize = {\n      id: withPrefix('btn-minimize'),\n      icon: minimizeSVG,\n      iconSize: 's20',\n      callback: (() => {\n        let minimized = false;\n        return (button) => {\n          if (minimized) {\n            button.innerHTML = minimizeSVG;\n            this.windowManager.minimize(false);\n          } else {\n            button.innerHTML = restoreSVG;\n            this.windowManager.minimize(true);\n          }\n          minimized = !minimized;\n        };\n      })()\n    };\n    const close = {\n      id: withPrefix('btn-close'),\n      icon: xmarkSVG,\n      iconSize: 's24',\n      callback: () => {\n        this.areaSelector.destroy();\n        this._toggleButtons(1);\n        this.stopStream();\n        this.onStreamStopped();\n      }\n    };\n    return [minimize, close];\n  }\n\n  /**\n   * Configuration for footer buttons\n   * @returns {\n   *   Array<{\n   *     visible: boolean,\n   *     callback: Function,\n   *     id: string,\n   *     text: string,\n   *     primary: boolean,\n   *     group: Array<string>\n   *   }>\n   * }\n   * @private\n   */\n  get _footerButtonsConfig() {\n    const selectArea = {\n      id: withPrefix('btn-select-area'),\n      text: 'Select Area',\n      primary: false,\n      visible: true,\n      group: this.buttonGroup['1'],\n      callback: () => {\n        const constraints = this._correctCoordinates(this.constraints, false);\n        this.areaSelector.init(constraints);\n        this._toggleButtons(2);\n      }\n    };\n    const cancelAreaSelection = {\n      id: withPrefix('btn-cancel-selection'),\n      text: 'Cancel',\n      primary: false,\n      visible: false,\n      group: this.buttonGroup['2'],\n      callback: () => {\n        this.areaSelector.destroy();\n        this._toggleButtons(1);\n      },\n    };\n    const applyAreaSelection = {\n      id: withPrefix('btn-apply-selection'),\n      text: 'Apply',\n      primary: true,\n      visible: false,\n      group: this.buttonGroup['2'],\n      callback: () => {\n        this.constraints = this._correctCoordinates(this.areaSelector.getCoords(), true);\n        this.areaSelector.destroy();\n        this.canvas.width = this.constraints.dx;\n        this.canvas.height = this.constraints.dy;\n        this.windowManager.fitCanvas(this.canvas);\n        this._toggleButtons(1);\n      },\n    };\n    const shareStart = {\n      id: withPrefix('btn-start-sharing'),\n      text: 'Start presentation',\n      primary: true,\n      group: this.buttonGroup['1'],\n      callback: () => {\n        const stream = this.canvas.captureStream();\n        this.onStreamStarted(stream);\n        this._togglePreviewer(false);\n      }\n    };\n    return [cancelAreaSelection, applyAreaSelection, selectArea, shareStart];\n  }\n\n}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./styles.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./styles.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import Cropper from './cropper';\nimport './css/styles.css';\n\n/**\n * The main class. It provides the interface to create DOM elements, start or stop cropping process, etc.\n * @param {Object} options - The settings to customize the plugin\n * options.cropX {number} - The start X coordinate of the cropping rectangle\n * options.cropY {number} - The start Y coordinate of the cropping rectangle\n * options.cropW {number} - The width of the cropping rectangle\n * options.cropH {number} - The height of the cropping rectangle\n * options.previewerClass {string} - The custom CSS class that can be used for customization. Attached to #crms-container element\n * options.backdropColor {string} - The color in HEX format with alpha channel (ex. #00000090 - black color with 90% of opacity).\n *                                  Defines the canvas backdrop color of the area selection tool.\n *\n * @property {string} prefix - Unique identifier for the plugin. Is being used in UI element id creation\n * @property settings - User settings\n * @property cropper - Instance of Cropper class\n */\nclass CropMyScreen {\n  settings;\n  cropper;\n\n\n  constructor(options) {\n    try {\n      this.settings = { ...this._defaultOptions(), ...(options || {}) };\n      this._validateOptions(this.settings);\n    } catch (e) {\n      throw new Error('CropMyScreen: Plugin initialization error. Some of the provided options are invalid');\n    }\n\n    this.cropper = new Cropper(CropMyScreen.prefix);\n    this.cropper.render({\n      customClass: this.settings.previewerClass,\n      backdropColor: this.settings.backdropColor,\n    });\n  }\n\n  /**\n   * Start the cropping process. Displays the previewer window based on the provided constraints.\n   * Function accepts the media stream object from the Screenshare API and returns Promise.\n   * Promise resolves with the cropped media stream.\n   * @param {MediaStream} stream - Media stream object\n   * @returns {Promise<MediaStream>}\n   */\n  start(stream) {\n    if (!this.cropper) {\n      throw Error('CropMyScreen: Instance error. It seems like the plugin does not initialize properly or has already been destroyed.');\n    }\n    \n    this.cropper.startStream(stream, {\n      x: this.settings.cropX,\n      y: this.settings.cropY,\n      dx: this.settings.cropW,\n      dy: this.settings.cropH\n    });\n    \n    return new Promise((resolve, reject) => {\n      this.cropper.onStreamStarted = (stream) => {\n        resolve(stream);\n      };\n\n      this.cropper.onStreamStopped = () => {\n        reject();\n      };\n    });\n  }\n\n  /**\n   * Stop the cropping process.\n   */\n  stop() {\n    this.cropper.stopStream();\n  }\n\n  /**\n   * Remove all plugin related DOM elements. Stop all event listeners\n   */\n  destroy() {\n    if (this.cropper) {\n      this.stop();\n      this.cropper.destroy();\n      this.cropper = null;\n    }\n  }\n\n  /**\n   * Return default options\n   * @returns {{cropX: number, cropH: number, cropY: number, backdropColor: string, previewerClass: string, cropW: number}}\n   * @private\n   */\n  _defaultOptions() {\n    return {\n      backdropColor: '#00000073',\n      cropX: 0,\n      cropY: 0,\n      cropW: 640,\n      cropH: 480,\n      previewerClass: ''\n    };\n  }\n\n  _validateOptions({backdropColor, cropX, cropY, cropW, cropH}) {\n    const colorRegExShort = new RegExp('^#[a-fA-F0-9]{3}$', 'gm');\n    const colorRegExFull = new RegExp('^#[a-fA-F0-9]{6}([0-9]{2})?$', 'gm');\n\n    if (backdropColor && !colorRegExShort.test(backdropColor) && !colorRegExFull.test(backdropColor)) {\n      console.error('CropMyScreen: Backdrop color format error. Color must be set in HEX format - e.g. \"#fff\", \"#fffaaa\", \"#fffaaa12\"');\n      throw new Error();\n    }\n\n    if (cropX && isNaN(+cropX)) {\n      console.error('CropMyScreen: cropX value is not a number');\n      throw new Error();\n    }\n\n    if (cropY && isNaN(+cropY)) {\n      console.error('CropMyScreen: cropY value is not a number');\n      throw new Error();\n    }\n\n    if (cropW && isNaN(+cropW)) {\n      console.error('CropMyScreen: cropW value is not a number');\n      throw new Error();\n    }\n\n    if (cropH && isNaN(+cropH)) {\n      console.error('CropMyScreen: cropH value is not a number');\n      throw new Error();\n    }\n  }\n}\n\nexport default CropMyScreen;\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","getBrowserHeaderSize","outerHeight","innerHeight","withPrefix","doCallback","callback","params","aspectRationEnum","landscape","portrait","AreaSelector","init","constraints","START_X","x","START_Y","y","CROP_W","dx","CROP_H","dy","END_X","END_Y","_drawBackDrop","areaSelectionStart","preventDefault","stopPropagation","classList","contains","resizing","querySelectorAll","forEach","el","drawing","clientX","clientY","areaSelectionEnd","_swapCoordinates","_drawResizeMarkers","backdropCtx","areaSelectionMouseMove","_areaResize","_drawArea","addEventListener","getCoords","destroy","_remove","_","removeEventListener","getElementById","status","backdrop","body","backdropWrapper","backdropCanvas","width","clientWidth","height","clientHeight","dragMarkersContainer","getContext","fillStyle","BACKDROP_COLOR","fillRect","clearRect","globalCompositeOperation","strokeStyle","setLineDash","lineWidth","strokeRect","c","ctx","points","topLeft","type","values","size","topCenter","topRight","rightCenter","bottomRight","bottomCenter","bottomLeft","leftCenter","point","entries","add","top","left","_areaResizeStart","bind","dragPoint","getAttribute","deltaX","deltaY","WindowManager","constructor","container","_container","_dragZone","console","error","_isMoving","_startCoords","_translateOffset","_deltaX","_deltaY","_limitCanvasWrap","_mouseDown","_moveMove","_mouseUp","fitCanvas","canvasEl","offset","applyStyles","condition","_getHeaderFooterOffset","containerWidth","containerHeight","containerRatio","minimize","header","headerHeight","removeProperty","event","cursor","transform","wrapEl","maxWidth","maxHeight","Cropper","areaSelector","render","customClass","backdropColor","containerId","containerEl","_createElement","videoEl","canvas","popup","_initPreviewer","muted","_togglePreviewer","windowManager","startStream","stream","context","streamSettings","getVideoTracks","getSettings","displaySurfaceType","displaySurface","_correctCoordinates","ontimeupdate","_cropFrame","onpause","onended","srcObject","play","stopStream","getTracks","t","stop","onStreamStarted","onStreamStopped","video","startX","startY","cropW","cropH","drawImage","canvasWrap","popupHeader","popupFooter","_headerButtonsConfig","btnSettings","btn","_renderHeaderButton","append","_footerButtonsConfig","_renderFooterButton","icon","iconSize","innerHTML","onmousedown","onclick","currentTarget","text","primary","visible","group","innerText","_toggleButtons","buttonGroup","coordinates","applyOffset","browser","ua","sUsrAg","navigator","userAgent","indexOf","getUserAgent","screenOffsetTop","screenOffsetLeft","screenY","screenX","warn","buggedOffset","devicePixelRatio","minimizeSVG","minimized","button","restoreSVG","xmarkSVG","selectArea","captureStream","CropMyScreen","settings","_defaultOptions","_validateOptions","cropper","prefix","previewerClass","start","cropX","cropY","Promise","resolve","reject","colorRegExShort","RegExp","colorRegExFull","test","isNaN"],"sourceRoot":""}